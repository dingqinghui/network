## URI URL
uri可以认为只是唯一识别的编号,类似于大家的身份证号,

url就是身份证住址+姓名

只要能唯一标识资源的就是URI，在URI的基础上给出其资源的访问方式的就是URL

URI是一种抽象的概念，而URL是具体的实现方法，所以URL是URI的子集


## http1.0 http1.1
http1.1支持持久连接，任意端明确关闭连接 

http1.0未标准化持久连接


## cookie 管线
管线化不需要等待前一个响应了才发下一个请求，实现了请求的并行发送


http无状态协议，使用cookies实现状态的保存
cookie状态保存：服务器回应给客户端cookie，客户端在之后的每次请求时带上这个cookie，服务器就可以根据这个cookie知道是哪个客户端。(ps：cookie 客户端的唯一标识)


## 请求 响应
请求行(方法 路径 协议版本) + 首部字段 + 空行 + 数据内容

```http
GET / HTTP/1.1
Host: 127.0.0.1:8080
User-Agent: Go-http-client/1.1
Accept-Encoding: gzip

"body"
```



响应行(协议版本 状态码 状态码解释 ) + 首部字段 + 空行 + 数据内容

```http
HTTP/1.1 200 OK 
Content-Length:[12] 
Content-Type:[text/plain; charset=utf-8] 
Date:[Wed, 12 May 2021 02:09:37 GMT]
```



可请求一部分内容



多个域名可以对应同一个IP地址的服务器，当服务器收到一个请求时，无法区分该请求要访问哪个域名。所以需要在协议的host字段指定访问的域名。


## 代理 网关 隧道
### 代理

代理负责客户端和服务器之间的转发。

![image-20210512111324574](https://i.loli.net/2021/05/12/Lpe1BKMV5QAtOSr.png)

### 网关

![image-20210512163955790](https://i.loli.net/2021/05/12/OQ2qRy8YFoPNGif.png)

### 隧道

![image-20210512164132484](https://i.loli.net/2021/05/12/OQcrMAmk8T3jCaV.png)



## http和https

### http传输问题

明文传输

无法认证身份的合法性

无法确认报文的完整性

### https

http + 加密 + 身份认证 +完整性保护 = https

https的安全性由ssl协议保证

![image-20210512170129188](https://i.loli.net/2021/05/12/DBz6Esv2Fe5mhO4.png)


#### 加密

对称加密速度快，需要在网络传输通知对端，存在被截获风险

非对称秘钥加/解密慢，公钥加密私钥解密。公钥被截获也无法用于解密

数据用对称加密，保证速度。共享的对称加密秘钥 用非对称加密后传输到对端，保证贡献秘钥的安全性。

![image-20210512170743542](https://i.loli.net/2021/05/12/ilA4r6gRDtcCYvx.png)


#### 身份验证
但是公钥也可能被伪造，使用了伪造的公钥进行加密，数据就不安全了。怎么保证公钥的合法性？

通信双方无法信任，那么只能依赖于第三方机构。

服务器将自己的公钥通过第三方私钥加密得到数字签名。

服务器将 公钥 + 数字签名发送到客户端。

客户端拿到信息后，将数字签名用第三方机构的公钥进行解密，和发送过来的公钥进行比对校验正确性。

![image-20210512172207866](https://i.loli.net/2021/05/12/zagdsvcFA1VPqiL.png)


http 处理更快安全性差  https 处理慢 安全性高