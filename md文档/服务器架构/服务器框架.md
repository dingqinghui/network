## 网关服务器
网游服务器架构中一般会有一层网关服务器对外用于客户端连接。
### 1.网关服务器的作用
#### 1.1 聚合客户的不同业务
 客户端只需连接一个网关，不同业务由网关分发到不同的功能服务器。
 如果功能分得极细，如组队功能由服务器A处理，装备升级由B处理，C, D, ...
 客户端不应该直接连接A,B,C,D,...，有网关转发就简单了。

#### 1. 2 聚合客户端的连接。 减少暴露的外网IP
 内部逻辑服务器的数量应该会大于网关数量。
 一个网关可能连接1w人，而地图服务器只能承载1k人，
 所以暴露10个逻辑服务器不如仅暴露1个网关，可以少占用外网IP.
 顺便避免了客户端切换地图的断开重连。

假如无网关结构是  login1 login2 …… login n   game1 game2  ....... game m  那么我们就需要开放n+m个公网IP

如果有网关gate1 .... gate n，无论这个服务器内部结构如何变化，扩展。都只需要 n个公网IP。



## 高可用
无状态服务，或可根据db/缓存/其他服务器中的数据恢复